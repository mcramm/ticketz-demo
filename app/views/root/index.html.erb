<div>
  <h1 class="font-bold text-4xl">Let's buy some tickets!</h1>
  <div class="h-16 flex items-center">
    <%= turbo_frame_tag("select-movie", class:"pr-10") do %>
      <div id="select-movie">
        <%= form_tag(url_for(action: "showtimes"), method: :post ) do %>
          <%= select_tag "movie_id", options_from_collection_for_select(@movies, "id", "name"), prompt: "Select a movie", onchange: "Turbo.navigator.submitForm(this.form)"%>
        <% end %>
      </div>
    <% end %>

    <%= turbo_frame_tag("select-showtime") do %>
      <%= render "showtimes", showtimes: [] %>
    <% end %>

  </div>
  <div class="flex flex-row">
    <%= turbo_frame_tag("tickets-for-showtime", class: "w-1/3") do %>
    <% end %>
    <div class="mx-20 w-1/4">
      <%= turbo_frame_tag("purchase-preview") do %>
        <%= render "purchase_preview", purchase_preview: @purchase_preview %>
      <% end %>
    </div>
  </div>

  <div class="mt-5">
    <p class="text-xl flex-full">Legend</p>

    <div class="flex flex-row justify-around w-1/4">
      <div class="flex flex-col items-center">
        <div class="p-4 rounded-lg shadow-lg flex w-16 justify-center bg-sky-600">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
          </svg>
        </div>
        Available
      </div>

      <div class="flex flex-col items-center">
        <div class="p-4 rounded-lg shadow-lg flex w-16 justify-center bg-green-600">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
          </svg>
        </div>
        Claimed (by you)
      </div>

      <div class="flex flex-col items-center">
        <div class="p-4 rounded-lg shadow-lg flex w-16 justify-center bg-stone-800 opacity-50">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
          </svg>
        </div>
        Unavailable
      </div>
    </div>
  </div>
</div>
